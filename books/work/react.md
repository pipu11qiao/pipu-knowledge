# react

## react 哲学

### react 哲学的问题

问题：react开发包含了哪些步骤

问题： 如何将UI拆解为组件层级的结构

问题： 单一职责在react中的运用

问题： 如何构建静态版本

问题： 什么是react单向数据流

问题： 如何找出UI精简且完整的state表示

问题： 哪些不是state

问题： 什么是dry

问题：为啥要找出绝对精简的state

问题 如何 验证state应该被放置在哪里

问题 交互函数放到哪里


### oreact 哲学的问题详情

##### 问题：react开发包含了哪些步骤

将UI拆解为组件层级的结构

构建静态版本

找出UI精简且完整的state表示

验证state应该被放置在哪里

添加反向数据路

重点是找出UI精简并且表示完整的state，单一功能原则，dry原则，单向数据流，数据不可变性。

##### 问题： 如何将UI拆解为组件层级的结构 

根据原型来拆分，ui设计是会考虑ui设计和交互方式

程序设计。根据单一功能原则决定是否要创建一个对象或函数，理想情况下一个react组件只完成一件事情，随着功能的增加和扩大， 拆分成更多的组件

CSS 思考你将把类选择器用于何处。（然而，组件并没有那么细的粒度。）

设计 思考你将如何组织布局的层级

##### 问题： 单一职责在react中的运用

Single Responsibility Principle,SRP是面向对象设计中的一个重要职责。核心思想是： 一个类应该只有一个职责，且这个职责应该被完全封装在这个类中。

在react中单一功能职责原则在组件中很好的运用。

对于一个组件，对外完成一个功能。这里面包含了很多的概念，对于功能拆分常见的有ui部分，数据获取部分，交互逻辑部分，这些都可以单独作为一个组件被开发。是否要做到这个粒度，需要根据当前的业务来看，如果已经开发的被复用，可以在重构过程进行拆分。

举例来说，对于一个通过用户接口获取用户信息并展示的组件，可以分成

用户组件

调用用户接口获取用户信息逻辑部分

用户信息展示的ui部分

交互部分

##### 问题： 如何构建静态版本

对着ui分层构建静态版本的代码，自上而下还是自下而上都可以。在简单的例子中，自上而下构建通常更简单；而在大型项目中，自下而上构建更简单。

##### 问题： 什么是react单向数据流

指的是组件间的数据传递方向，只能由父组件向子组件传递。反过来不能传递。如果子组件需要修改父组件中的数据，必须通过调用父组件传递下来的回调函数来实现，这个回调函数会在父组件中更新状态，然后再将新的状态或数据传递给子组件。

##### 问题： 如何找出UI精简且完整的state表示

为了使UI可交互，你需要用户更改潜在的数据结构。你将可以使用state进行实现。

考虑将state作为应用程序需要记住改变数据的最小集合。组织state最重要的一条原则是保持它DRY（不要自我重复）。计算出你应用程序需要的绝对精简的state表示，按需计算其它一切。举个例子，如果你正在构建一个购物列表，你可将他们在state中存储为数组。如果你同时想展示列表中物品数量，不需要将其另存为一个新的state。而是通过读取你数组的长度来实现。

通过列出改变数据的地方，来找出所有的可能的state

##### 问题： 哪些不是state

随着时间推移保持不变？如此，便不是state。

通过props从父组件传递？如此，便不是state

是否可以基于以存在于组件中的state或者props进行计算？如此，它肯定不是state!

##### 问题： 什么是dry

don't repeat yourself,避免重复
系统中的任何一块知识（逻辑或信息）都应该在一个系统内有且只有一个、唯一可信的“来源”或“表现形式“

##### 问题：为啥要找出绝对精简的state

开销

不必要的render

状态越少，追踪问题越简单

逻辑更聚合，更符合直觉

##### 问题： 如何 验证state应该被放置在哪里

验证哪个组件是通过改变state实现可响应的，或者拥有这个state。记住：React使用单向数据流，通过组件层级结构从父组件传递数据至子组件。

验证每一个基于特定state渲染的组件

寻找 它们最近并且共同的父组件-在层级结构中，一个凌驾于他们所有组件之上的组件。

决定state应该被放置于哪里：

通常情况下，你直接放置state与他们的共同的父组件。

你也可以将state放置于它们父组件的上层组件

如果你找不到一个合适来放这个state的地方，单独创建一个新的组件去管理这个state，并将它添加到它们父组件上层的某个地方。

##### 问题： 交互函数放到哪里

交互函数放到哪里和state相关，确定了state的位置，如果一个函数影响这个这个state，那么这个交互函数就应该被定义在这个函数的部分